{
  "openapi": "3.1.0",
  "info": {
    "title": "OpenAPI definition",
    "version": "v0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Local 개발 환경"
    },
    {
      "url": "http://43.202.155.55:8080",
      "description": "Remote 개발 서버"
    }
  ],
  "tags": [
    {
      "name": "applications",
      "description": "지원 관련 API"
    },
    {
      "name": "reports",
      "description": "리포트 관련 API"
    },
    {
      "name": "reviews",
      "description": "도우미 리뷰 관련 API"
    },
    {
      "name": "recruits",
      "description": "동행 신청 관련 API"
    },
    {
      "name": "helpers",
      "description": "도우미 관련 API"
    }
  ],
  "paths": {
    "/api/recruits": {
      "post": {
        "tags": ["recruits"],
        "summary": "고객의 동행 신청",
        "description": "로그인한 고객이 동행을 신청합니다.",
        "operationId": "createRecruit",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecruitCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "동행 목록 신청 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/{applicationId}/select": {
      "post": {
        "tags": ["applications"],
        "summary": "지원 선택",
        "description": "특정 신청에 대한 지원들 중 하나를 선택합니다.",
        "operationId": "selectApplication",
        "parameters": [
          {
            "name": "applicationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "지원 선택 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/recruits/{recruitId}/cancel": {
      "patch": {
        "tags": ["recruits"],
        "summary": "신청 취소",
        "description": "recruitId에 해당하는 신청을 취소합니다.",
        "operationId": "cancelRecruit",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "신청 취소 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews/recruits/{recruitId}": {
      "get": {
        "tags": ["reviews"],
        "summary": "동행 신청을 담당한 도우미의 리뷰 조회",
        "description": "특정 동행 신청을 담당한 도우미의 리뷰를 조회합니다.",
        "operationId": "getReviewAsRecruit",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "도우미 리뷰 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/reports/recruits/{recruitId}": {
      "get": {
        "tags": ["reports"],
        "summary": "동행 신청에 대한 리포트 상세 정보 조회",
        "description": "특정 동행 신청에 대한 리포트의 상세 정보를 조회합니다.",
        "operationId": "getReportAsRecruit",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "리포트 상세 정보 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/recruits/{recruitId}": {
      "get": {
        "tags": ["recruits"],
        "summary": "특정 동행 신청의 상세 정보 조회",
        "description": "recruitId에 해당하는 동행 신청의 상세 정보를 조회합니다.",
        "operationId": "getRecruitDetail",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "동행 신청 상세 정보 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/recruits/{recruitId}/payments": {
      "get": {
        "tags": ["recruits"],
        "summary": "특정 동행 신청의 결제 정보 조회",
        "description": "recruitId에 해당하는 동행 신청의 결제 정보를 조회합니다.",
        "operationId": "getRecruitPayment",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "동행 신청 결제 정보 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/recruits/customer": {
      "get": {
        "tags": ["recruits"],
        "summary": "고객의 동행 목록 조회",
        "description": "로그인한 고객이 신청한 동행 목록(진행중/완료)을 조회합니다.",
        "operationId": "getRecruitListAsCustomer",
        "responses": {
          "200": {
            "description": "동행 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecruitListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/helpers/{userId}": {
      "get": {
        "tags": ["helpers"],
        "summary": "도우미 상세 조회",
        "description": "userId에 해당하는 도우미의 상세 정보를 조회합니다.",
        "operationId": "getHelperDetail",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "도우미 상세 정보 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/helpers/recruits/{recruitId}": {
      "get": {
        "tags": ["helpers"],
        "summary": "신청에 지원한 도우미 목록 조회",
        "description": "특정 신청에 지원한 도우미 목록을 조회합니다.",
        "operationId": "getHelperListAsRecruit",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "도우미 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/recruits/{recruitId}": {
      "get": {
        "tags": ["applications"],
        "summary": "신청에 대한 지원 목록 조회",
        "description": "특정 신청에 대한 지원 목록을 조회합니다.",
        "operationId": "getApplicationListAsRecruit",
        "parameters": [
          {
            "name": "recruitId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "지원 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "RecruitCreateRequest": {
        "type": "object",
        "description": "동행 신청 요청 DTO",
        "properties": {
          "imageUrl": {
            "type": "string",
            "description": "환자 이미지 URL",
            "example": "https://example.com/patient.png"
          },
          "name": {
            "type": "string",
            "description": "환자 이름",
            "example": "홍길동"
          },
          "age": {
            "type": "integer",
            "format": "int32",
            "description": "환자 나이",
            "example": 81
          },
          "gender": {
            "type": "string",
            "description": "환자 성별",
            "enum": ["MALE", "FEMALE"],
            "example": "GENDER.MALE"
          },
          "phoneNumber": {
            "type": "string",
            "description": "환자 연락처",
            "example": "010-1234-5678"
          },
          "needsHelping": {
            "type": "boolean",
            "description": "부축이 필요한지",
            "example": true
          },
          "usesWheelchair": {
            "type": "boolean",
            "description": "휠체어를 이용하고 있는지",
            "example": true
          },
          "hasCognitiveIssue": {
            "type": "boolean",
            "description": "인지능력 이슈가 있는지",
            "example": true
          },
          "cognitiveIssueDetail": {
            "type": "string",
            "description": "인지능력 이슈가 있다면, 디테일 설명",
            "example": "['판단에 도움이 필요해요', '기억하거나 이해하는 것이 어려워요]"
          },
          "hasCommunicationIssue": {
            "type": "boolean",
            "description": "의사소통 이슈가 있는지",
            "example": true
          },
          "communicationIssueDetail": {
            "type": "string",
            "description": "의사소통 이슈가 있다면, 디테일 설명",
            "example": "이가 많이 없으셔서.. 천천히 이야기 들어주세요"
          },
          "escortDate": {
            "type": "string",
            "format": "date",
            "description": "동행 날짜",
            "example": "2025-08-01"
          },
          "estimatedMeetingTime": {
            "type": "string",
            "description": "만나는 시각",
            "example": "09:30:00"
          },
          "estimatedReturnTime": {
            "type": "string",
            "description": "복귀 시각",
            "example": "12:30:00"
          },
          "meetingLocation": {
            "type": "string",
            "description": "만나는 장소"
          },
          "meetingLocationInfo": {
            "type": "string",
            "description": "만나는 장소에 대한 추가 정보",
            "example": "103동 402호 현관 앞"
          },
          "destination": {
            "type": "string",
            "description": "목적지 병원"
          },
          "destinationDetail": {
            "type": "string",
            "description": "방문하실 과",
            "example": "내과"
          },
          "returnLocation": {
            "type": "string",
            "description": "복귀 장소"
          },
          "returnLocationDetail": {
            "type": "string",
            "description": "복귀 장소에 대한 추가 정보",
            "example": "103동 402호 현관 앞"
          },
          "purpose": {
            "type": "string",
            "description": "동행 목적",
            "example": "정기 진료"
          },
          "extraRequest": {
            "type": "string",
            "description": "기타 요청사항",
            "example": "약 수령도 대신 부탁드립니다."
          }
        }
      },
      "Response": {
        "type": "object",
        "description": "공통 응답 포맷",
        "properties": {
          "code": {
            "type": "integer",
            "format": "int32",
            "description": "직접 정의한 응답에 대한 code"
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "description": "응답 상태에 대한 HTTP 상태 코드",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "응답 상태에 대한 HTTP 메시지",
            "example": "SUCCESS"
          },
          "data": {
            "description": "응답 body 필드"
          }
        }
      },
      "RecruitListResponse": {
        "type": "object",
        "description": "동행 목록 조회 응답 DTO",
        "properties": {
          "inProgressList": {
            "type": "array",
            "description": "진행 중인 동행 목록",
            "items": {
              "$ref": "#/components/schemas/RecruitSimpleResponse"
            }
          },
          "completedList": {
            "type": "array",
            "description": "완료된 동행 목록",
            "items": {
              "$ref": "#/components/schemas/RecruitSimpleResponse"
            }
          }
        }
      },
      "RecruitSimpleResponse": {
        "type": "object",
        "description": "동행 신청 정보 요약본 응답 DTO",
        "properties": {
          "recruitId": {
            "type": "integer",
            "format": "int64",
            "description": "동행 신청 ID"
          },
          "escortId": {
            "type": "integer",
            "format": "int64",
            "description": "동행중인 경우, 동행 ID"
          },
          "status": {
            "type": "string",
            "description": "동행 신청의 진행 상태",
            "enum": ["MATCHING", "COMPLETED", "IN_PROGRESS", "DONE"]
          },
          "numberOfApplication": {
            "type": "integer",
            "format": "int64",
            "description": "지원한 도우미 수"
          },
          "escortDate": {
            "type": "string",
            "format": "date",
            "description": "동행 날짜",
            "example": "2025-08-01"
          },
          "estimatedMeetingTime": {
            "type": "string",
            "description": "만나는 시각",
            "example": "09:30:00"
          },
          "estimatedReturnTime": {
            "type": "string",
            "description": "복귀 시각",
            "example": "12:30:00"
          },
          "departureLocation": {
            "type": "string",
            "description": "만나는 장소"
          },
          "destination": {
            "type": "string",
            "description": "목적지 병원"
          }
        }
      }
    }
  }
}
